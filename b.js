(()=>{var e,t={9048:(e,t,s)=>{"use strict";s(8031),s(607),s(7370);var a=s(3150),n=s.n(a);n().runtime.onMessage.addListener(((e,t)=>{var s;if("forward between frames"!==(null==e?void 0:e.action))return;const a=null===(s=t.tab)||void 0===s?void 0:s.id;return null!=a?n().tabs.sendMessage(a,e,"top"===e.target?{frameId:0}:void 0):void 0}));var o;s(7856);!function(e){e.both="both",e.source="source",e.result="result"}(o||(o={}));var r=s(7126),i=s(1101),c=s(5885),l=s(4194),d=s(3417);const u={id:"ALiOfficial",name:"阿里翻译",points:!0,secretKeys:{get:()=>n().storage.local.get({aLiApiKey:[]}).then((({aLiApiKey:e})=>Array.isArray(e)?e:[e])),set:e=>n().storage.local.set({aLiApiKey:e}),isComplete:e=>(0,d.dz)(e,["id"])},pointsEnable:{get:()=>n().storage.local.get({aliPoints:true}).then((({aliPoints:e})=>e)),set:e=>n().storage.local.set({aliPoints:e})}},p={id:"ALiOfficialDomain",name:"阿里翻译（专业版）",points:!0,getDomain:()=>n().storage.local.get("aliDomain").then((({aliDomain:e})=>e)),secretKeys:u.secretKeys,pointsEnable:{get:()=>n().storage.local.get({aliProPoints:true}).then((({aliProPoints:e})=>e)),set:e=>n().storage.local.set({aliProPoints:e})}};class h extends c.s{constructor(e){super(e,{standardMap:r,retry:!0})}isSuccessResponse(e){return(0,i.nX)(e)}throwErrorResponse(e){throw new l.mD(`${this.service.name}报错了，错误码：${e.Code}，错误消息："${e.Message}"`,{type:"API_SERVER_ERROR",link:{name:"查看错误码释义",url:this.service.getDomain?"https://help.aliyun.com/document_detail/158267.html":"https://help.aliyun.com/document_detail/158244.html"}})}isSameLang(e,t){return(0,i.Ky)(e,t.text)}async callBySecretKey(e,t){const s=await(0,i.ZP)(t.text,t.destination,e,{source:t.source,domain:t.domain});return this.isSuccessResponse(s)||this.throwErrorResponse(s),s}transform(e,t){const s=e.text,a=e.destinations[e.destIndex],n={text:s,link:`https://translate.alibaba.com/#hcfy_text=${encodeURIComponent(s)}&hcfy_from=auto&hcfy_to=${a}`,from:e.source&&this.convertToStandard(e.source),to:a&&this.convertToStandard(a)};if(t)try{n.result=t.Data.Translated.split("\n")}catch(e){}return n}}const m=new h(u),f=new h(p);var g=s(5314),y=s(6407);const w={id:"BaiDuWeb",name:"百度翻译",points:!0,secretKeys:{get:()=>n().storage.local.get({baiDuAppKey:[]}).then((({baiDuAppKey:e})=>Array.isArray(e)?e:[e])),set:e=>n().storage.local.set({baiDuAppKey:e}),isComplete:e=>(0,d.dz)(e,["id"])},pointsEnable:{get:()=>n().storage.local.get({bdPoints:true}).then((({bdPoints:e})=>e)),set:e=>n().storage.local.set({bdPoints:e})}},v={id:"BaiDuDomain",name:"百度翻译（专业版）",points:!0,getDomain:()=>n().storage.local.get("baiduDomain").then((({baiduDomain:e})=>e)),secretKeys:w.secretKeys,pointsEnable:{get:()=>n().storage.local.get({bdProPoints:true}).then((({bdProPoints:e})=>e)),set:e=>n().storage.local.set({bdProPoints:e})}};class b extends c.s{constructor(e){super(e,{standardMap:g,retry:!0})}isSuccessResponse(e){return(0,y.nX)(e)}throwErrorResponse(e){throw new l.mD(`${this.service.name}报错了，错误码：${e.error_code}。`,{type:"API_SERVER_ERROR",link:{name:"查看错误码释义",url:this.service.getDomain?"https://fanyi-api.baidu.com/doc/22":"https://fanyi-api.baidu.com/doc/21"}})}isSameLang(e){return(0,y.Ky)(e)}async callBySecretKey(e,t){const s=async a=>{const n=await(0,y.ZP)(t.text,t.destination,e,{source:t.source,domain:t.domain});if(!this.isSuccessResponse(n)){if(!a&&"54003"===n.error_code)return new Promise(((e,t)=>{setTimeout((()=>{s(!0).then(e,t)}),800)}));this.throwErrorResponse(n)}return n};return s()}transform(e,t){const s=e.text,a=null==t?void 0:t.from,n=null==t?void 0:t.to,o={text:s,link:`https://fanyi.baidu.com/#${a||"auto"}/${n||"zh"}/${encodeURIComponent(s)}`,from:a&&this.convertToStandard(a),to:n&&this.convertToStandard(n)};if(t)try{o.result=t.trans_result.map((e=>e.dst))}catch(e){}return o}}const A=new b(w),R=new b(v);var x=s(3620);const S={id:"CaiYunOfficial",name:"彩云小译",points:!0,secretKeys:{get:()=>n().storage.local.get({cyApiToken:[]}).then((({cyApiToken:e})=>e?(Array.isArray(e)?e:[e]).map((e=>({key:e}))):[])),set:e=>n().storage.local.set({cyApiToken:e.map((e=>e.key))}),isComplete:e=>(0,d.dz)(e)},pointsEnable:{get:()=>n().storage.local.get({cyPoints:true}).then((({cyPoints:e})=>e)),set:e=>n().storage.local.set({cyPoints:e})}};class P extends c.s{constructor(){super(S,{standardMap:{"中文(简体)":"zh",英语:"en",日语:"ja"},retry:!0})}isSameLang(e,t){return(0,x.K)(e,t.text)}async callBySecretKey(e,t){return(0,x.Z)(t.text,t.destination,e.key,{source:t.source})}transform(e,t){const s=e.text,a=e.destinations[e.destIndex],n={text:s,link:"https://fanyi.caiyunapp.com/",from:e.source&&this.convertToStandard(e.source),to:a&&this.convertToStandard(a)};return t&&(n.result=t.target.filter((e=>e.trim()))),n}}const C=new P,T={id:"SoGouOfficial",name:"搜狗翻译"};class k extends c.s{constructor(){super(T)}translate(){return Promise.resolve({text:"",error:{type:"OTHER",message:"搜狗翻译已下线。",link:{name:"查看公告",url:"https://hcfy.app/blog/2021/11/23/sougou-off"}}})}transform(){throw new Error("Method not implemented.")}}const L=new k;var D=s(4715),E=s(3995);const I={id:"QQOfficial",name:"腾讯翻译君",points:!0,secretKeys:{get:()=>n().storage.local.get({qqApiKey:[]}).then((({qqApiKey:e})=>Array.isArray(e)?e:[e])),set:e=>n().storage.local.set({qqApiKey:e}),isComplete:e=>(0,d.dz)(e,["id"])},pointsEnable:{get:()=>n().storage.local.get({qqPoints:true}).then((({qqPoints:e})=>e)),set:e=>n().storage.local.set({qqPoints:e})}};class K extends c.s{constructor(){super(I,{standardMap:D,retry:!0})}isSuccessResponse(e){return(0,E.nX)(e)}throwErrorResponse(e){const t=e.Response.Error;throw new l.mD(`${this.service.name}报错了，错误码：${t.Code}，错误消息：${t.Message}。`,{type:"API_SERVER_ERROR",link:{name:"查看错误码释义",url:"https://cloud.tencent.com/document/product/551/30637"}})}isSameLang(e){return(0,E.Ky)(e)}async callBySecretKey(e,t){const s=await(0,E.ZP)(t.text,t.destination,e,{source:t.source});return this.isSuccessResponse(s)||this.throwErrorResponse(s),s}transform(e,t){const s=e.text,a=t&&this.convertToStandard(t.Response.Source),n=t&&this.convertToStandard(t.Response.Target),o={text:s,link:`https://fanyi.qq.com/#hcfy_text=${encodeURIComponent(s)}&hcfy_from=${a||""}&hcfy_to=${n||""}`,from:a,to:n};if(t)try{o.result=t.Response.TargetText.split("\n")}catch(e){}return o}}const O=new K;var _=s(9514),B=s(582);const U={id:"YouDaoWeb",name:"有道翻译",points:!0,secretKeys:{get:()=>n().storage.local.get({youDaoAppKey:[]}).then((({youDaoAppKey:e})=>Array.isArray(e)?e:[e])),set:e=>n().storage.local.set({youDaoAppKey:e}),isComplete:e=>(0,d.dz)(e,["id"])},pointsEnable:{get:()=>n().storage.local.get({ydPoints:true}).then((({ydPoints:e})=>e)),set:e=>n().storage.local.set({ydPoints:e})}};class Z extends c.s{constructor(){super(U,{standardMap:_,retry:!0})}isSuccessResponse(e){return(0,B.nX)(e)}throwErrorResponse(e){throw new l.mD(`${this.service.name}报错了，错误码：${e.errorCode}。`,{type:"API_SERVER_ERROR",link:{name:"查看错误码释义",url:"https://ai.youdao.com/DOCSIRMA/html/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E7%BF%BB%E8%AF%91/API%E6%96%87%E6%A1%A3/%E6%96%87%E6%9C%AC%E7%BF%BB%E8%AF%91%E6%9C%8D%E5%8A%A1/%E6%96%87%E6%9C%AC%E7%BF%BB%E8%AF%91%E6%9C%8D%E5%8A%A1-API%E6%96%87%E6%A1%A3.html"}})}isSameLang(e){return(0,B.Ky)(e)}async callBySecretKey(e,t){const s=await(0,B.ZP)(t.text,t.destination,e,{source:t.source});return this.isSuccessResponse(s)||this.throwErrorResponse(s),s}transform(e,t){var s;const a=e.text,[n,o]=((null==t?void 0:t.l)||"").split("2"),r={text:a,from:this.convertToStandard(n),to:this.convertToStandard(o),ttsURI:null==t?void 0:t.speakUrl,link:(null==t?void 0:t.basic)?`https://dict.youdao.com/search?q=${encodeURIComponent(a)}`:`http://fanyi.youdao.com/translate?i=${encodeURIComponent(a)}`,result:null===(s=null==t?void 0:t.translation[0])||void 0===s?void 0:s.split("\n")};if(null==t?void 0:t.basic){r.dict=t.basic.explains.map((e=>{const t=e.match(/^([a-z]+\.)\s+/);return{pos:t?t[1]:void 0,terms:[t?e.slice(t[0].length):e]}}));const e=[];t.basic["us-phonetic"]&&e.push({name:"美",value:t.basic["us-phonetic"],ttsURI:t.basic["us-speech"]}),t.basic["uk-phonetic"]&&e.push({name:"英",value:t.basic["uk-phonetic"],ttsURI:t.basic["uk-speech"]}),!e.length&&t.basic.phonetic&&e.push({value:t.basic.phonetic,ttsURI:t.speakUrl}),e.length&&(r.phonetic=e)}return r}}const q=new Z;var F=s(2816),$=s(5175),N=s(2919),M=s(3059);const W={id:"GoogleWeb",name:"谷歌翻译",free:!0};class H extends c.s{constructor(){super(W,{standardMap:$,retry:{secretKey:!0}}),this.region="cn",this.type="fast"}isSameLang(e,t){return e.src===t.destinations[t.destIndex]}async callByFree(e){const{text:t,destination:s,source:a="auto"}=e;let n;try{n=await(0,F.C)(t,s,a)}catch(e){n=await("fast"===this.type?(0,N.s)(t,s,a,this.region):(0,M.N)({text:t,to:s,source:a,region:this.region}))}return n}transform(e,t){var s;const{text:a}=e,n=e.destinations[e.destIndex],o=null==t?void 0:t.src,r={text:a,from:o&&this.convertToStandard(o),to:n&&this.convertToStandard(n),link:`https://translate.google.${this.region}/?sl=${o||"auto"}&tl=${n}&text=${encodeURIComponent(a)}&op=translate`};if(t){try{r.dict=null===(s=t.dict)||void 0===s?void 0:s.map((e=>({pos:e.pos,terms:e.terms})))}catch(e){}try{let e;t.sentences.some((t=>{if("src_translit"in t)return e=t.src_translit,!0})),e&&(r.phonetic=[{value:`${e}`,ttsURI:r.from&&this.getTTS(a,r.from)}])}catch(e){}try{!r.phonetic&&r.from&&(r.ttsURI=this.getTTS(a,r.from))}catch(e){}try{r.result=t.sentences.map((e=>"trans"in e?e.trans:"")).join("").split("\n")}catch(e){}}return r}getTTS(e,t){const s=this.convertToCustom(t);if(!s)throw new l.mD(`${this.service.name}不支持朗读${t}。`,{type:"UNSUPPORTED_LANGUAGE"});return`https://translate.googleapis.com/translate_tts?client=gtx&tl=${s}&ie=UTF-8&q=${encodeURIComponent(e)}`}}const z=new H;var j=s(128),V=s(5091);const G={"中文(简体)":"zh",英语:"en",德语:"de",法语:"fr",西班牙语:"es",葡萄牙语:"pt",意大利语:"it",荷兰语:"nl",波兰语:"pl",俄语:"ru",日语:"ja",爱沙尼亚语:"et",保加利亚语:"bg",丹麦语:"da",芬兰语:"fi",捷克语:"cs",拉脱维亚语:"lv",立陶宛语:"lt",罗马尼亚语:"ro",瑞典语:"sv",斯洛伐克语:"sk",斯洛文尼亚语:"sl",希腊语:"el",匈牙利语:"hu"},J={id:"DeepLWeb",name:"DeepL",free:!0,points:!0,secretKeys:{get:()=>n().storage.local.get({deeplKey:[]}).then((({deeplKey:e})=>e)),set:e=>n().storage.local.set({deeplKey:e}),isComplete:e=>(0,d.dz)(e,["deeplPro"])},pointsEnable:{get:()=>n().storage.local.get({deeplPoints:false}).then((({deeplPoints:e})=>e)),set:e=>n().storage.local.set({deeplPoints:e})}};function X(e){var t;return{source:null===(t=e.translations[0])||void 0===t?void 0:t.detected_source_language,result:e.translations.map((e=>e.text)).join("\n"),otherResults:[]}}class Y extends c.s{constructor(){super(J,{standardMap:G,retry:{secretKey:!0}})}isSameLang(e,t){return t.text===e.result}async callByPoints(e){return super.callByPoints(e).then(X)}callBySecretKey(e,t){var s;return(0,V.I)(t.text,t.destination.toUpperCase(),e.key,null===(s=t.source)||void 0===s?void 0:s.toUpperCase(),e.deeplPro).then(X)}callByFree(e){return(0,j.T)(e)}transform(e,t){var s;const a={text:e.text,from:(null==t?void 0:t.source)&&this.convertToStandard(t.source.toLowerCase()),link:`https://www.deepl.com/translator#${(null===(s=null==t?void 0:t.source)||void 0===s?void 0:s.toLowerCase())||e.source||"auto"}/${e.destinations[e.destIndex]}/${e.text}`};if(t){const e=t.result.split("\n");t.otherResults.length?a.dict=[{terms:e},...t.otherResults.map((e=>({terms:[e]})))]:a.result=e}return a}}const Q=new Y;var ee=s(8072);function te(e){var t,s,a,n,o;const r={},i=null===(t=e.textContent)||void 0===t?void 0:t.trim().split(/\s+/);i&&(r.name=i[0],r.value=null===(s=i[1])||void 0===s?void 0:s.slice(1,-1));const c=e.nextElementSibling;if(null==c?void 0:c.matches(".hd_tf")){const e=null===(o=null===(n=null===(a=c.getElementsByTagName("a")[0])||void 0===a?void 0:a.getAttribute("onclick"))||void 0===n?void 0:n.match(/'(http[^']+)'/))||void 0===o?void 0:o[1];e&&(r.ttsURI=e)}return r}const se={id:"BingDictWeb",name:"必应词典",free:!0};class ae extends c.s{constructor(){super(se,{standardMap:{"中文(简体)":"中文(简体)",英语:"英语"},retry:!0})}async callByFree(e){return(0,ee.K)(e.text)}transform(e,t){var s,a;const{text:n}=e,o={text:n,link:"https://cn.bing.com/dict/search?q="+encodeURIComponent(n)};if(t){const e=t.getElementsByClassName("qdef")[0];if(e){const t=e.getElementsByClassName("hd_p1_1")[0];if(t){const e=[],a=t.getElementsByClassName("hd_prUS")[0];a&&e.push(te(a));const n=t.getElementsByClassName("hd_pr")[0];if(n&&e.push(te(n)),a||n)o.from="英语";else{const a=null===(s=t.textContent)||void 0===s?void 0:s.trim().slice(1,-1);a&&(o.from="中文(简体)",e.push({value:a}))}e.length&&(o.phonetic=e)}const a=[];e.querySelectorAll("ul li").forEach((e=>{var t,s,n;const o=e.getElementsByClassName("pos")[0];if(o){const e=o.nextElementSibling;if(null==e?void 0:e.matches(".b_regtxt"))if(o.matches(".web")){const s=null===(t=e.textContent)||void 0===t?void 0:t.trim();s&&a.push({pos:"网络: ",terms:s.split(/；\s*/)})}else{const t=null===(s=e.textContent)||void 0===s?void 0:s.trim().split(/；\s*/);t&&a.push({pos:null===(n=o.textContent)||void 0===n?void 0:n.trim(),terms:t})}}})),a.length&&(o.dict=a)}o.dict||(null===(a=o.result)||void 0===a?void 0:a.length)||(o.error={type:"API_SERVER_ERROR",message:"无翻译结果。如果你使用了代理软件，请关闭代理或将必应词典加入直连名单后重试。",link:{name:"如何将必应词典加入直连名单？",url:"https://hcfy.app/docs/faq/#proxy"}})}return o}}const ne=new ae,oe=[W,J,w,v,I,S,u,p,U,se,T].filter((e=>e!==se)),re=[{value:"translate",label:"翻译这段文本"},{value:"open-pdf-in-viewer",label:"在划词翻译中打开此 PDF（PDF 文件）"},{value:"open-link-in-viewer",label:"在划词翻译中打开此 PDF（PDF 链接）"},{value:"screen-translate",label:"截图翻译"},{value:"page-translate",label:"网页全文翻译"},{value:"video-translate",label:"音视频翻译"}].map((e=>e.value));var ie=s(124),ce=s(3326);const le={id:"bdocr",name:"百度文字识别",points:!0,secretKeys:{get:()=>n().storage.local.get({baiDuOCRKey:[]}).then((({baiDuOCRKey:e})=>(Array.isArray(e)?e:[e]).map((e=>({id:e.key,key:e.secret}))))),set:e=>n().storage.local.set({baiDuOCRKey:e.map((e=>({key:e.id,secret:e.key})))}),isComplete:e=>(0,d.dz)(e,["id"])},pointsEnable:{get:()=>n().storage.local.get({bdOcrPoints:true}).then((({bdOcrPoints:e})=>e)),set:e=>n().storage.local.set({bdOcrPoints:e})}};class de extends ie.E{constructor(){super(le,!0)}callBySecretKey(e,t){return new ce.w(e).ocr(t.image)}transform(e){if(!e.paragraphs_result)throw new Error("百度文字识别服务配置有误，请确认你领取过免费资源包，且密钥填写无误。");return e.paragraphs_result.reduce(((t,{words_result_idx:s})=>(t.push(s.reduce(((t,s)=>t+e.words_result[s].words),"")),t)),[]).join("\n")}}const ue=new de,pe={button:!0,buttonAutoClose:!0,buttonOffsetTop:0,buttonOffsetLeft:0,charsLimit:0,disableInTextarea:!1,domainBlackList:[],domainWhiteList:[],textList:[{name:"忽略中文",readonly:!0,enabled:!1,value:"[\\u4e00-\\u9fa5]",description:"如果划选的文本当中包含中文，则不显示翻译按钮或翻译结果。"},{name:"忽略字符",readonly:!0,enabled:!0,value:"^[\\s.\\-0-9()•+]+$",description:"如果划选的文本全部都是由数字、点、括号、空格、横线、加号和圆点（即 •，多用于密码框）组成的，则不显示翻译按钮或翻译结果。"}],placement:"bottom",pin:!1,pinAfterDrag:!1,pinPos:null,pinIgnoreDomainList:!0,darkMode:"system",pdfAuto:!1,pdfSnifferEnable:!0,pdfStandalone:!1,width:250,source:"",destination:"中文(简体)",secondDestination:"英语",secondDestinationLatestSource:!1,showTextArea:!1,textAreaAuto:!1,textAreaShortKey:"enter",selectedAPIs:["GoogleWeb","DeepLWeb","BingDictWeb"],collapsedAPIs:[],selectedExternalLinks:[],autoClipboard:null,autoClipboardImage:null,autoPlay:!1,autoCopy:!1,autoPaste:!0,recentUseLangFrom:[""],recentUseLangTo:["中文(简体)"],tipPanelSettingsClosed:!1,tipBlockedPDFClosed:!1,tipIncognitoPDFClosed:!1,tipOcrChangeClosed:!0,tipForeverVIPClosed:!0,tipQuickLinksClosed:!1,tipNewProfessionalClosed:!1,tipTextareaBtnClosed:!0,tipForSTTClosed:!1,tipForPinAfterDragClosed:!0,tipForPageTrsNoLoadingClosed:!0,tipForSlowDeepLPageTrsClosed:!1,tipForPageTrsClosed:!1,panelPos:{width:270,height:500,left:100,top:100},panelSize:"small",panelButtons:["media","microphone"],panelCustomStyle:"",notifySyncOptions:!0,sourceTransformNoBr:!1,sourceTransformNCaml:!1,sourceTransformNoComment:!1,sourceTransformRegExps:[],historyEnabled:!1,favoritesEnabled:!0,modifierKeys:[],modifierKeyPressedAction:"",modifierKeyTranslate:!1,modifierKeyLink:!1,audioVolume:100,audioRate:1,systemTTS:"aid",systemTTSAccent:{},systemTTSVoice:{},localOCR:{lang:"eng"},pageTrsApi:"GoogleWeb",pageTrsHighlight:!0,pageTrsApiOptions:oe.map((e=>e.id)),pageTrsJumpTwo:!1,pageTrsEditable:!0,googleRegion:"cn",googleType:"fast",quickLinks:[{name:"谷歌搜索",link:"https://www.google.com/search?q=%s",menu:!0,panel:!0},{name:"维基百科",link:"https://zh.wikipedia.org/w/index.php?search=%s",menu:!0,panel:!0},{name:"剑桥词典",link:"https://dictionary.cambridge.org/dictionary/english-chinese-simplified/%s",menu:!0,panel:!0}],noticesRead:[],customAPI:"",customAPINames:[],pointsEnabled:[],baiduDomain:null,aliDomain:null,ocrService:"tesseractocr",contextMenus:re,popupAction:"show-popup"},he={hoverTranslate:!1,latestSource:"",pageTrsAuto:!1,pageTrsType:o.both,tipForShortKeyForPageTrsTypeClosed:!1,user:null,optionsSyncAt:null,disabledNofiByBrowserUI:!1,favoritesSyncAt:null,historiesSyncAt:null,deeplKey:[],deeplPoints:false,baiDuAppKey:[],bdPoints:true,bdProPoints:true,baiDuOCRKey:[],bdOcrPoints:true,youDaoAppKey:[],ydPoints:true,aLiApiKey:[],aliPoints:true,aliProPoints:true,qqApiKey:[],qqPoints:true,soGouApiKey:[],cyApiToken:[],cyPoints:true,ocrLimit:{date:0,times:0},pageTranslateLimit:{date:0,times:0},sttLimit:{date:0,times:0},videoLimit:{date:0,times:0},pdfZoom:"",noticesUnreadNum:0,noticesFiltered:[],tipForFirstExportClosed:!1,tipForPasteTranslateClosed:!1,tipForDropTranslateClosed:!1,tipForAddJumpTwoClosed:!0,tipForServicesUpdateClosed:!0};var me=s(1515),fe=s(7147),ge=s(9669),ye=s.n(ge);(0,me.Z)(pe,["customAPI"]);class we extends c.s{constructor(e){super({id:e,name:e})}async translateInner(e){const{customAPI:t}=await n().storage.local.get("customAPI");if(!t)throw new l.mD("没有配置自定义翻译源。");return(await ye().post(t,{text:e.text,destination:e.destinations,source:e.source,name:this.service.name})).data}transform(e,t){return t||{text:e.text}}}function ve(e){switch(e){case"DeepLWeb":return Q;case"GoogleWeb":return z;case"BaiDuWeb":return A;case"BaiDuDomain":return R;case"YouDaoWeb":return q;case"BingDictWeb":return ne;case"ALiOfficial":return m;case"ALiOfficialDomain":return f;case"QQOfficial":return O;case"SoGouOfficial":return L;case"CaiYunOfficial":return C;default:return new we(e)}}(0,fe.Z)((0,me.Z)(pe,["googleRegion","googleType"]),(e=>{e.googleRegion&&(z.region=e.googleRegion),e.googleType&&(z.type=e.googleType)}));const be={...(0,me.Z)(pe,["destination","secondDestination","secondDestinationLatestSource"]),...(0,me.Z)(he,["latestSource"])};var Ae=s(8325),Re=s(2414),xe=s(2574);let Se;const Pe={"中文(简体)":"zh-CN","中文(粤语)":"zh-HK","中文(繁体)":"zh-TW",英语:"en","英语(英国)":"en-GB","英语(美国)":"en-US","英语(加拿大)":"en-CA","英语(澳大利亚)":"en-AU","英语(印度)":"en-IN","英语(爱尔兰)":"en-IE","英语(南非)":"en-ZA",德语:"de-DE",西班牙语:"es-ES","西班牙语(墨西哥)":"es-MX","西班牙语(美国)":"es-US","西班牙语(阿根廷)":"es-AR",法语:"fr-FR","法语(加拿大)":"fr-CA",印地语:"hi-IN",印尼语:"id-ID",意大利语:"it-IT",日语:"ja-JP",韩语:"ko-KR",荷兰语:"nl-NL","荷兰语(比利时)":"nl-BE",波兰语:"pl-PL",葡萄牙语:"pt-PT","葡萄牙语(巴西)":"pt-BR",俄语:"ru-RU",土耳其语:"tr-TR",瑞典语:"sv-SE",希伯来语:"he-IL",罗马尼亚语:"ro-RO",泰语:"th-TH",斯洛伐克语:"sk-SK",阿拉伯语:"ar-SA",匈牙利语:"hu-HU",希腊语:"el-GR",挪威语:"nb-NO",丹麦语:"da-DK",芬兰语:"fi-FI",捷克语:"cs-CZ"},Ce=(0,xe.Z)(Pe),Te={"中文(简体)":"zh",英语:"en",法语:"fr",西班牙语:"es",荷兰语:"nl",葡萄牙语:"pt"};(0,xe.Z)(Te).zh="中文";var ke=s(1227),Le=s.n(ke);const De=window.navigator.userAgent,Ee=(De.includes("Mac"),De.includes("Chrome")),Ie=De.includes("Edg"),Ke=Ee&&!Ie,Oe=De.includes("Firefox");function _e(e){return e.split(".").map((e=>Number(e)))}const Be=_e(n().runtime.getManifest().version);function Ue(e,t){const s="string"==typeof e?_e(e):e,a="string"==typeof t?_e(t):t,n=Math.max(s.length,a.length);for(let e=0;e<n;e++){const t=s[e]||0,n=a[e]||0;if(t<n)return-1;if(t>n)return 1}return 0}function Ze(e){return Ue(e,Be)}const qe=Le()("audio"),Fe={...(0,me.Z)(pe,["audioVolume","audioRate","systemTTS","systemTTSVoice","systemTTSAccent"]),...(0,me.Z)(he,["user"])};let $e,Ne=pe.audioVolume,Me=pe.audioRate,We=pe.systemTTS,He=pe.systemTTSVoice,ze=pe.systemTTSAccent,je=he.user;async function Ve(e){$e&&$e.pause(),speechSynthesis.cancel();try{if("prior"===We)throw new Error("由于用户设置了始终使用系统语音朗读，所以主动抛出错误");let t;if(e.ttsURI)t=e.ttsURI;else if(e.source){const s=ve(e.apiId);t=await s.getTTS(e.text,e.source)}if(!t)throw new Error("跳过");await new Promise(((e,s)=>{$e=new Audio(t),$e.volume=Ne/100,$e.playbackRate=Me,$e.addEventListener("canplay",(()=>{null==$e||$e.play(),e()})),$e.addEventListener("error",(()=>{s()}))}))}catch(t){if("none"===We)throw t;return new Promise((async(t,s)=>{qe("开始用系统语音朗读");const a=new SpeechSynthesisUtterance(e.text);a.volume=Ne/100,a.rate=Me;const n=window.setTimeout((()=>{let e;speechSynthesis.cancel(),a.lang&&(e=Ce[a.lang]),s(new Error("系统语音朗读超时。"+(Ke?`Chrome 浏览器提供的网络语音需要连接外网才能使用。你也可以前往设置中选择本地语音朗读${e||""}。`:`如果你的网络状况不佳，可以前往设置中选择本地语音朗读${e||""}。`)))}),2e3);if(a.addEventListener("start",(()=>{window.clearTimeout(n),t()})),a.addEventListener("error",(e=>{s(e)})),null==je?void 0:je.vipActivated){const t=e.source&&Te[e.source];if(t){const e=ze[t];e&&(qe("指定用户选择的口音："+e),a.lang=e)}}const o=a.lang||e.source&&Pe[e.source];if(o&&(a.lang||(a.lang=o,qe("指定文本的语种："+o)),null==je?void 0:je.vipActivated)){const e=He[o];if(e)try{const{voicesGroup:t}=await(Se||(Se=(0,Ae.X)((()=>new Promise(((e,t)=>{const s=window.speechSynthesis.getVoices();s.length?e(s):t(new Error("无法获取系统支持的语音列表，请稍后重试。"))}))),{delay:500,count:10}).then((e=>{const t={},s={};e.forEach((e=>{const a=e.lang;t[a]?t[a].push(e):t[a]=[e];const n=a.slice(0,a.indexOf("-"));s[n]?s[n].indexOf(a)<0&&s[n].push(a):s[n]=[a]}));const a=[],n={};return(0,Re.Z)(t,((e,s)=>{1===e.length&&(a.push(s),n[s]=e[0],delete t[s])})),(0,Re.Z)(s,((e,t)=>{1===e.length&&delete s[t]})),{singleVoiceMap:n,singleList:a,voicesGroup:t,multipleLang:s}})))),s=t[o];if(s){const t=s.find((t=>t.name===e));t&&(qe("指定系统语音："+t.name),a.voice=t)}}catch(e){}}qe("开始朗读"),window.speechSynthesis.speak(a)}))}}async function Ge(){return(await n().tabs.query({active:!0,highlighted:!0,windowId:n().windows.WINDOW_ID_CURRENT}))[0]}var Je,Xe;let Ye,Qe;(0,fe.Z)(Fe,(e=>{null!=e.audioRate&&(Me=e.audioRate,$e&&($e.playbackRate=Me)),null!=e.audioVolume&&(Ne=e.audioVolume,$e&&($e.volume=Ne/100)),null!=e.systemTTS&&(We=e.systemTTS),null!=e.systemTTSVoice&&(He=e.systemTTSVoice),null!=e.systemTTSAccent&&(ze=e.systemTTSAccent),void 0!==e.user&&(je=e.user)})),n().windows.onRemoved.addListener((e=>{Ye===e&&(Ye=void 0)})),(null===(Xe=null===(Je=null===window||void 0===window?void 0:window.chrome)||void 0===Je?void 0:Je.windows)||void 0===Xe?void 0:Xe.onBoundsChanged)&&chrome.windows.onBoundsChanged.addListener((e=>{e.id===Ye&&n().storage.local.set({panelPos:(0,me.Z)(e,["width","height","left","top"])})}));const et=(0,me.Z)(pe,["panelPos"]);async function tt(){const{panelPos:e}=await n().storage.local.get(et),t={...e};return e.left<0&&(t.left=0),e.top<0&&(t.top=0),t}async function st(e=""){if(void 0!==Ye&&void 0!==Qe)await Promise.all([n().tabs.sendMessage(Qe,{action:"translateInPopup",data:e}),n().windows.update(Ye,{focused:!0})]);else{const t=await tt(),s=await n().windows.create({url:n().runtime.getURL("panel.html")+"?text="+encodeURIComponent(e),type:"popup",...t});Oe&&s.id&&n().windows.update(s.id,{top:t.top,left:t.left}),Ye=s.id,Qe=s.tabs&&s.tabs[0].id}}async function at(e="",t,s=!0){var a;if(t||(t=null===(a=await Ge())||void 0===a?void 0:a.id))try{await n().tabs.sendMessage(t,"translate")}catch(t){s&&st(e)}else s&&st(e)}function nt(e){const t=e.match(/^(([^:]+):\/\/)?([^/]+)?(\/.*)?$/);if(!t)return;let s=t[3]||"";const a=s.indexOf(":");a>=0&&(s=s.slice(0,a));let n=t[4]||"";const o=n.indexOf("#");if(o>=0&&(n=n.slice(0,o)),!s.startsWith(".")){if(!n){if(!s)return;n="/"}return{host:s,path:n}}}function ot(e,t){return new RegExp("^"+e.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace("*",".*").replace(/^\.\*\\\./,"(.*\\.)?")+"$").test(t)}function rt(e,t){return new RegExp("^"+e.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".*")+"$").test(t)}function it(e,t,s){let a,n;a="string"==typeof e?nt(e):e;let o=!1,r=!1;if(a){const e=e=>{const t=function(e,t){let s;if(s="string"==typeof t?nt(t):t,s)return ot(e.host,s.host)&&rt(e.path,s.path)}(e,a);return t&&(n=e),t};o=s.some(e),o||(r=t.some(e))}return{urlParts:a,matchedRule:n,whiteListMatched:o,blackListMatched:r}}const ct=n().runtime.getURL("/pdf-viewer/web/viewer.html"),lt=(0,me.Z)(pe,["pdfStandalone"]);function dt(e){return e.startsWith(ct)}function ut(e){let t,s,a;e&&("string"==typeof e?t=e:(t=e.file,s=e.blocked,a=e.incognito));let n="",o="";if(t){const e=new URL(t);n+=`&file=${encodeURIComponent(t)}`,o=e.hash}return s&&(n+="&_blocked"),a&&(n+="&_incognito"),ct+n.replace("&","?")+o}function pt(e){return async function(e){const{pdfStandalone:t}=await n().storage.local.get(lt);let s;if(t)s=await n().windows.create({url:e,type:"popup"});else{const t=await n().tabs.create({url:e});s=await n().windows.get(t.windowId)}s.focused||await n().windows.update(s.id,{drawAttention:!0})}(ut(e))}async function ht(e){return"normal"===(await n().windows.get(e)).type}async function mt(e){if(!e)return void await n().browserAction.setIcon({path:"logogray.png"});if(dt(e))return void await n().browserAction.setIcon({path:"logo.png"});const{domainBlackList:t,domainWhiteList:s}=await n().storage.local.get((0,me.Z)(pe,["domainBlackList","domainWhiteList"])),a=function(e,t,s){const a=it(e,t,s);return!a.urlParts||a.whiteListMatched||!a.blackListMatched}(e,t,s);await n().browserAction.setIcon({path:a?"logo.png":"logogray.png"})}async function ft(e){let t,s;if(e)t=e.tabId,s=e.windowId;else{const e=await Ge();if(!e)return mt();t=e.id,s=e.windowId}if(null==s||await ht(s))return mt(await async function(e){var t;try{let t;if(t=void 0===e?(await n().tabs.executeScript({code:"window.location.href",runAt:"document_start"}))[0]:(await n().tabs.executeScript(e,{code:"window.location.href",runAt:"document_start"}))[0],t.startsWith("moz-extension"))throw new Error;return t}catch(s){if(void 0===e&&!(e=null===(t=await Ge())||void 0===t?void 0:t.id))return;try{return await n().tabs.sendMessage(e,"get tab url")}catch(e){}}}(t))}ft(),n().tabs.onActivated.addListener((e=>{ft(e)})),n().tabs.onUpdated.addListener(((e,t)=>{"loading"===t.status&&ft()})),n().windows.onFocusChanged.addListener((async e=>{e!==n().windows.WINDOW_ID_NONE&&await ht(e)&&ft()})),n().storage.onChanged.addListener(((e,t)=>{"local"===t&&(e.hasOwnProperty("domainBlackList")||e.hasOwnProperty("domainWhiteList"))&&ft()}));var gt=s(9520);class yt extends gt.ZP{constructor(){super("hcfy"),this.version(3).stores({historyRecords:"id,date,_id,syncStatus",favorites:"id,date,text,_id,syncStatus"}),this.historyRecords=this.table("historyRecords"),this.favorites=this.table("favorites")}}const wt=new yt;var vt=s(6749),bt=s(2054),At=s(9697);const Rt=(e,t)=>{e._id?(e.deleted=!0,e.syncStatus=xt.Pending):delete t.value};var xt;!function(e){e.Pending="Pending"}(xt||(xt={}));class St{constructor(e,t,s,a,n,o,r,i){this.table=e,this.syncKeys=t.concat("date"),this.getDataFromServer=s,this.syncTimeStorageKey=a,this.deleteData=n,this.commitChanges=o,this.pullChanges=r,this.deleteLogsFn=i}async add(e,t){const s={...e},a=Date.now();s.id=(0,vt.Z)(a+"-"),s.date=a,s.syncStatus=xt.Pending,await this.table.add(s),t&&this.commit().catch(bt.Z)}async deleteById(e,t){await this.table.where("id").anyOf(e).modify(Rt),t&&this.commit().catch(bt.Z)}async deleteAll(e){let t;e&&(t=await this.deleteData()),await this.table.clear(),t&&await this.setSyncTime(t)}async deleteByKey(e,t,s){await this.table.where(e).equalsIgnoreCase(t).modify(Rt),s&&this.commit().catch(bt.Z)}async hasByKey(e,t){return await this.table.where(e).equalsIgnoreCase(t).and((e=>!e.deleted)).count()>0}query(e,t,s){const a=t?this.table.where("date").below(t).reverse():this.table.orderBy("date").reverse();return a.filter(s?e=>!e.deleted&&s(e):e=>!e.deleted),a.limit(e).toArray()}async getSyncChanges(){const e=await this.table.where("syncStatus").equals(xt.Pending).toArray(),t=[],s=[],a=[];return e.forEach((e=>{e._id?e.deleted&&a.push(e._id):(t.push((0,me.Z)(e,this.syncKeys)),s.push(e.id))})),{changes:{added:(0,At.Z)(t)?void 0:t,deleted:(0,At.Z)(a)?void 0:a},addedLocalIds:s}}addServerData(e){return wt.transaction("rw",this.table,(async()=>{const t=Date.now()+"-",s=e.map((e=>(e.id=(0,vt.Z)(t),e._id)));await this.table.where("_id").anyOf(s).delete(),await this.table.bulkAdd(e)}))}async downloadData(e){const t=await this.getDataFromServer(e),s=t.list;return Array.isArray(s)&&s.length&&await this.addServerData(s),t.date}setSyncTime(e){return n().storage.local.set({[this.syncTimeStorageKey]:e})}async commit(){const{changes:e,addedLocalIds:t}=await this.getSyncChanges(),s=await this.commitChanges(e);(0,At.Z)(s)||await this.table.where("id").anyOf(t).modify((e=>{const a=t.indexOf(e.id);a>=0&&(e._id=s[a],delete e.syncStatus)}))}async pull(e){const t=(await n().storage.local.get(this.syncTimeStorageKey))[this.syncTimeStorageKey];if(!t){const e=await this.downloadData();return await this.setSyncTime(e),this.deleteLogsFn(e).catch(bt.Z),!0}if(!e)return!1;const{changes:s,date:a}=await this.pullChanges(t);let o;const r=s.reduce(((e,t)=>{var s,a;return t.deleteAll?(e.added.clear(),e.deleted.clear(),o=!0,e):(null===(s=t.added)||void 0===s||s.forEach((t=>{e.added.add(t)})),null===(a=t.deleted)||void 0===a||a.forEach((t=>{e.added.has(t)?e.added.delete(t):e.deleted.add(t)})),e)}),{added:new Set,deleted:new Set});let i,c=[];const l=!!r.added.size;r.added.size&&(c=await this.table.where("_id").anyOf(Array.from(r.added)).toArray(),c.forEach((e=>{r.added.delete(e._id)})),r.added.size&&(i=(await this.getDataFromServer(Array.from(r.added))).list));const d=o||!!i||!!r.deleted.size;return d&&await wt.transaction("rw",this.table,(async()=>{o&&(await this.table.clear(),!(0,At.Z)(c)&&await this.table.bulkAdd(c));const e=[];return i&&e.push(this.addServerData(i)),r.deleted.size&&e.push(this.table.where("_id").anyOf(Array.from(r.deleted)).delete()),Promise.all(e)})),await this.setSyncTime(a),(d||l)&&this.deleteLogsFn(a).catch(bt.Z),d}}var Pt=s(4898);const Ct=new St(wt.historyRecords,["text","url","favicon","title"],(async e=>(await Pt.L.post("/histories",e)).data),"historiesSyncAt",(async()=>(await Pt.L.delete("/histories")).data),(async e=>(await Pt.L.put("/histories",e)).data),(async e=>(await Pt.L.get("/histories?lastCheck="+e)).data),(e=>Pt.L.delete("/histories/logs?date="+e)));var Tt=s(9788);const kt=new St(wt.favorites,["text","dir"],(async e=>(await Pt.L.post("/favorites",e)).data),"favoritesSyncAt",(async()=>(await Pt.L.delete("/favorites")).data),(async e=>(await Pt.L.put("/favorites",e)).data),(async e=>(await Pt.L.get("/favorites?lastCheck="+e)).data),(e=>Pt.L.delete("/favorites/logs?date="+e)));let Lt,Dt,Et=()=>{Et=bt.Z,Lt=document.createElement("textarea"),Lt.style.position="absolute",Lt.style.top="-99999px",document.body.appendChild(Lt)};let It=()=>{It=bt.Z,Dt=document.createElement("div"),Dt.style.position="absolute",Dt.style.top="-99999px",Dt.contentEditable="true",document.body.appendChild(Dt)};function Kt(){if(It(),Dt.innerHTML="",Dt.focus(),document.execCommand("paste")){const e=Dt.getElementsByTagName("img")[0];if(e)return e.src}return!1}function Ot(){const e=Kt();if(e)return{type:"image",dataURI:e};const t=(Et(),Lt.value="",Lt.focus(),!!document.execCommand("paste")&&Lt.value);return"string"==typeof t&&{type:"text",text:t}}const _t=(0,me.Z)(he,["user"]);async function Bt(){const{user:e}=await n().storage.local.get(_t);return!!e&&e.vipActivated}var Ut=s(3151);var Zt=s(7320);const qt={workerPath:"worker.min.js",corePath:"tesseract-core.wasm.js",langPath:"https://tessdata.projectnaptha.com/4.0.0_best",workerBlobURL:!1},Ft={id:"tesseractocr",name:"Tesseract OCR",free:!0};class $t extends ie.E{constructor(){super(Ft)}async callByFree(e){const t=(0,Zt.createWorker)(qt);await t.load(),await t.loadLanguage(e.lang),await t.initialize(e.lang),await t.setParameters({tessjs_create_hocr:"0",tessjs_create_tsv:"0",preserve_interword_spaces:"1"});const s=await t.recognize(e.image);return t.terminate(),s.data}transform(e){return e.paragraphs.map((e=>e.text.trim().replace(/\r?\n/g," "))).join("\n")}}const Nt=new $t,Mt=(0,me.Z)(pe,["ocrService","localOCR"]),Wt=new class{constructor(e,t){this.storageKey=e,this.max=t}async isOver(e){var t;const s=this.storageKey,a=(0,me.Z)(he,["user",s]),o=await n().storage.local.get(a);if(null===(t=o.user)||void 0===t?void 0:t.vipActivated)return!1;const r=o[s];let i=!1;const c=new Date;return r.date||(r.date=c.getTime()),(0,Ut.Z)(c,r.date)?r.times>=this.max&&(i=!0):(r.date=c.getTime(),r.times=0),e&&!i&&(r.times+=1),await n().storage.local.set({[s]:r}),i}async addOne(){const e=(0,me.Z)(he,["user",this.storageKey]),t=(await n().storage.local.get(e))[this.storageKey];t.times+=1,await n().storage.local.set({[this.storageKey]:t})}}("ocrLimit",5);const Ht=ye().create({baseURL:"https://hcfy.app/"}),zt={...(0,me.Z)(he,["user"]),...(0,me.Z)(pe,["noticesRead"])};let jt=[];async function Vt(e){if(e)try{jt=await Ht.get("/notices.json").then((e=>e.data)),zt.noticesRead=zt.noticesRead.filter((e=>jt.find((t=>t.id===e)))),n().storage.local.set({noticesRead:zt.noticesRead})}catch(e){}const t=function(e,t,s){let a=0;return{filteredNotices:e.filter((e=>{if(e.filter){if(e.filter.noFree&&!(null==t?void 0:t.vipActivated))return!1;if(e.filter.noVip&&(null==t?void 0:t.vipActivated)&&!t.forever)return!1;if(e.filter.noForever&&(null==t?void 0:t.forever))return!1;if(e.filter.noChrome&&Ke)return!1;if(e.filter.noEdge&&Ie)return!1;if(e.filter.noFirefox&&Oe)return!1;const s=Date.now();if(e.filter.start&&e.filter.start>s)return!1;if(e.filter.end&&e.filter.end<s)return!1;if(e.filter.versionStart&&Ze(e.filter.versionStart)>0)return!1;if(e.filter.versionEnd&&Ze(e.filter.versionEnd)<0)return!1}return s.includes(e.id)||(a+=1),!0})),unreadNum:a}}(jt,zt.user,zt.noticesRead);n().storage.local.set({noticesUnreadNum:t.unreadNum,noticesFiltered:t.filteredNotices})}const Gt="fetch-notices-alarm";n().alarms.create(Gt,{periodInMinutes:60}),n().alarms.onAlarm.addListener((async e=>{e.name===Gt&&Vt(!0)})),(0,fe.Z)(zt,((e,t)=>{void 0!==e.user&&(zt.user=e.user),e.noticesRead&&(zt.noticesRead=e.noticesRead),Vt(!!t)})),(0,fe.Z)({noticesUnreadNum:0},(e=>{var t;null!=e.noticesUnreadNum&&(t=e.noticesUnreadNum,n().browserAction.setBadgeText({text:t?String(t):""}))}));const Jt=new Set;async function Xt(e,t){(await n().tabs.query({windowId:e})).forEach((e=>{null!=e.id&&n().tabs.sendMessage(e.id,{action:"auto page translate",value:t}).catch(bt.Z)}))}function Yt(e){return!!Jt.delete(e)&&(Xt(e,!1),!0)}n().windows.onRemoved.addListener((e=>{Jt.delete(e)})),n().tabs.onDetached.addListener(((e,t)=>{!async function(e,t){if(!Yt(t))return;const s=(await n().tabs.get(e)).windowId;null!=s&&Jt.add(s)}(e,t.oldWindowId)}));const Qt=n().runtime.getURL("settings.html");n().runtime.onMessage.addListener(((e,t)=>{var s,a,o;let r;switch(e.action){case"open options page":return e.suffix?n().tabs.create({url:Qt+e.suffix}).then(bt.Z):n().runtime.openOptionsPage();case"translate":return async function(e){const t=ve(e.apiCode);let s=e.destinations;if(!s){const e=await n().storage.local.get(be),t=e.secondDestinationLatestSource&&e.latestSource?e.latestSource:e.secondDestination;s=e.destination===t?[e.destination]:[e.destination,t]}return t.translate({text:e.text,destinations:s,source:e.source})}(e.data);case"audio":return Ve(e.url);case"open panel":return st();case"update panel pos":return async function(){if(null==Ye)return;const e=await tt();await n().windows.update(Ye,{...e,focused:!0})}();case"update badge":return ft();case"save history record":return Bt().then((t=>Ct.add(e.record,t)));case"save favorite":return Bt().then((t=>{const s=e.record.results;return s&&(e.record.dir=function(e){const t=[];(0,Re.Z)(e,(e=>{if(!e)return;const s=e.from+" "+e.to,a=t.findIndex((e=>e[0]===s));a>=0?t[a][1]+=1:t.push([s,1])}));const s=(0,Tt.Z)(t,(e=>e[1]));if(s){const e=s[0].split(" ");return{from:e[0],to:e[1]}}}(s)),kt.add(e.record,t)}));case"is text in favorites":return async function(e){return kt.hasByKey("text",e)}(e.text);case"delete record in favorites":return Bt().then((t=>kt.deleteByKey("text",e.text,t)));case"write to clipboard":return Promise.resolve((i=e.text,Et(),Lt.value=i,Lt.select(),document.execCommand("copy")));case"take screenshot":return n().tabs.captureVisibleTab(n().windows.WINDOW_ID_CURRENT,{format:"png"});case"ocr":return async function(e){if(await Wt.isOver())throw new Error("非会员每天只能使用 5 次截图翻译功能，成为会员即可解除此限制。");let t;const{ocrService:s,localOCR:a}=await n().storage.local.get(Mt);switch(s){case"tesseractocr":t=await Nt.ocr({image:e,lang:a.lang});break;case"bdocr":t=await ue.ocr({image:e});break;default:throw new TypeError(`不支持的 OCR 服务：${s}`)}return await Wt.addOne(),t}(e.dataURI);case"sync data":return Promise.all([Ct,kt].map((e=>e.commit())));case"refresh notices":return Vt(!0);case"get user sid":return Pt.L.get("https://hs-api.limingkai.cn/sid").then((e=>e.data.sid));case"read clipboard":return Promise.resolve(Ot());case"read clipboard image":return Promise.resolve(Kt());case"add auto page translate":return r=null===(s=t.tab)||void 0===s?void 0:s.windowId,null!=r&&function(e){Jt.has(e)||(Jt.add(e),Xt(e,!0))}(r),Promise.resolve();case"is auto page translate":return r=null===(a=t.tab)||void 0===a?void 0:a.windowId,Promise.resolve(null!=r&&function(e){return Jt.has(e)}(r));case"remove auto page translate":return r=null===(o=t.tab)||void 0===o?void 0:o.windowId,null!=r&&Yt(r),Promise.resolve();case"open pdf viewer":return pt(e.params)}var i}));const es=(0,me.Z)(pe,["pdfAuto","pdfStandalone"]);let ts=es.pdfStandalone;function ss(e){const{url:t,tabId:s,frameId:a}=e;return n().tabs.get(s).then((e=>{e.incognito?(a||n().tabs.remove(s),pt({file:t,incognito:!0})):ts&&(a||n().tabs.remove(s),pt(t))})),ts?{cancel:!0}:{redirectUrl:ut(e.url)}}function as(e){var t;if("GET"!==e.method)return;let s,a;return null===(t=e.responseHeaders)||void 0===t||t.some((e=>{var t;switch(e.name.toLowerCase()){case"content-type":s=e.value;break;case"content-disposition":a=null===(t=e.value)||void 0===t?void 0:t.trim()}return!(!s||!a)})),s?(s=s.toLowerCase().split(";",1)[0].trim(),"application/pdf"!==s||a&&!a.startsWith("inline")?void 0:ss(e)):void 0}(0,fe.Z)(es,(e=>{null!=e.pdfAuto&&(e.pdfAuto?(n().webRequest.onBeforeRequest.hasListener(ss)||n().webRequest.onBeforeRequest.addListener(ss,{urls:["ftp://*/*.pdf","ftp://*/*.PDF","file://*/*.pdf","file://*/*.PDF"],types:["main_frame","sub_frame"]},["blocking"]),n().webRequest.onHeadersReceived.hasListener(as)||n().webRequest.onHeadersReceived.addListener(as,{urls:["http://*/*","https://*/*"],types:["main_frame","sub_frame"]},["blocking","responseHeaders"])):(n().webRequest.onBeforeRequest.removeListener(ss),n().webRequest.onHeadersReceived.removeListener(as))),null!=e.pdfStandalone&&(ts=e.pdfStandalone)}));var ns=s(2346);const os={YouDao:"YouDaoWeb",BaiDu:"BaiDuWeb",Google:"GoogleWeb",GoogleCN:"GoogleWeb"};n().runtime.onInstalled.addListener((async e=>{if("install"!==e.reason)if("update"!==e.reason);else{const t=e.previousVersion?e.previousVersion.split(".").map((e=>Number(e))):void 0,s=7===(null==t?void 0:t[0]);if(t&&6===t[0]){const e=await n().storage.local.get(),t={};if(t.pdfAuto=null!=e.pdf&&e.pdf,e.disableSelection)t.domainBlackList=[{host:"*",path:"/*"}];else{const s=e.excludeDomains;Array.isArray(s)&&(t.domainBlackList=s.map((e=>({host:`*${"."===e[0]?"":"."}${e}`,path:"/*"}))))}null!=e.showBtn&&(t.button=e.showBtn);const s=e.defaultApi||"GoogleCN",a=os[s];a&&(t.selectedAPIs=[a]);const o=(0,ns.Z)(pe.textList);let r=!1;e.ignoreChinese&&(o[0].enabled=!0,r=!0),e.ignoreNumLike||(o[1].enabled=!1,r=!0),r&&(t.textList=o),await n().storage.local.clear(),await n().storage.local.set(t)}if(t&&s&&t[1]<=3){const{modifierKey:e}=await n().storage.local.get("modifierKey");!1!==e&&await n().storage.local.set({modifierKeys:["ctrl"],modifierKeyPressedAction:"selection",modifierKeyTranslate:!0}),await n().storage.local.remove(["region","tipNewGoogleAPI","modifierKey"])}if(t&&s&&(t[1]<5||5===t[1]&&t[2]<=2)&&await Promise.all([wt.favorites,wt.historyRecords].map((e=>e.filter((e=>!e._id&&!e.syncStatus)).modify({syncStatus:xt.Pending})))),t&&s&&(t[1]<5||5===t[1]&&t[2]<=5)){const{selectedAPIs:e}=await n().storage.local.get("selectedAPIs");e||await n().storage.local.set({selectedAPIs:["BaiDuWeb"]})}if(t&&s&&(t[1]<5||5===t[1]&&t[2]<=6)&&await n().storage.local.set({pinIgnoreDomainList:!1}),t&&Ue(t,"8.0.0")<=0){const{baiDuOCRKey:e}=await n().storage.local.get("baiDuOCRKey");if((null==e?void 0:e.secret)||(null==e?void 0:e.key)){e.legacy=!0;const t=e.secret&&e.key;await n().storage.local.set(t?{baiDuOCRKey:e,ocrService:"bdocr"}:{baiDuOCRKey:e})}}if(t&&Ue(t,"8.5.6")<=0&&await n().storage.local.set({pinAfterDrag:!0}),t&&Ue(t,"8.6.0")<=0&&await n().storage.local.set({textAreaShortKey:"ctrl-enter"}),t&&Ue(t,"8.6.1")<=0&&await n().storage.local.set({panelButtons:["cut","translate","video","media","microphone"]}),t&&Ue(t,"8.6.3")<=0){const{buttonAutoClose:e,pdfAuto:t,autoClipboard:s,autoClipboardImage:a}=await n().storage.local.get(["buttonAutoClose","pdfAuto","autoClipboard","autoClipboardImage"]),o={};null==e&&(o.buttonAutoClose=!1),null==t&&(o.pdfAuto=!0),null==s&&(o.autoClipboard=!0),null==a&&(o.autoClipboardImage=!0),await n().storage.local.set(o)}if(t&&Ue(t,"8.6.6")<=0&&await n().storage.local.set({tipForPageTrsClosed:!0}),t&&Ue(t,"8.6.8")<=0&&await n().storage.local.set({tipForAddJumpTwoClosed:!1}),t&&Ue(t,"8.6.10")<=0){const e=(0,me.Z)(he,["baiDuAppKey","baiDuOCRKey","youDaoAppKey","aLiApiKey","qqApiKey","cyApiToken"]),t={baiDuAppKey:"bdPoints",baiDuOCRKey:"bdOcrPoints",youDaoAppKey:"ydPoints",aLiApiKey:"aliPoints",qqApiKey:"qqPoints",cyApiToken:"cyPoints"},s=await n().storage.local.get(e),a={tipForServicesUpdateClosed:!1};(0,Re.Z)(s,((e,s)=>{Array.isArray(e)||("string"==typeof e?e&&(a[t[s]]=!1):"secret"in e?e.secret&&e.key&&(a[t[s]]=!1):e.id&&e.key&&(a[t[s]]=!1))})),await n().storage.local.set(a)}}else n().tabs.create({url:"https://hcfy.app/docs/guides/welcome"})}));const rs=(0,me.Z)(pe,["quickLinks"]),is=(0,me.Z)(pe,["quickLinks","contextMenus"]),cs=["*://*/*.pdf","*://*/*.PDF","*://*/*.pdf?*","*://*/*.PDF?*","ftp://*/*.pdf","ftp://*/*.PDF","ftp://*/*.pdf?*","ftp://*/*.PDF?*","file://*/*.pdf","file://*/*.PDF","file://*/*.pdf?*","file://*/*.PDF?*"],ls=["*://*/*","file://*/*","ftp://*/*",ut()+"*"],ds=["page","frame","link","editable","image","video","audio"],us={translate:{id:"translate",title:"翻译这段文本(&Z)",contexts:["selection"]},"open-pdf-in-viewer":{id:"open-pdf-in-viewer",title:"在划词翻译中打开此 PDF (&P)",contexts:Ee?["all"]:["page"],documentUrlPatterns:Ee?["chrome-extension://mhjfbmdgcfjbbpaeojofohoefgiehjai/*"]:cs},"open-link-in-viewer":{id:"open-link-in-viewer",title:"在划词翻译中打开此 PDF (&P)",contexts:["link"],targetUrlPatterns:cs},"screen-translate":{id:"screen-translate",title:"截图翻译",contexts:ds,documentUrlPatterns:ls},"page-translate":{id:"page-translate",title:"网页全文翻译",contexts:["page","frame"],documentUrlPatterns:ls},"video-translate":{id:"video-translate",title:"音视频翻译",contexts:ds,documentUrlPatterns:ls}},ps={id:"sp-for-quick-link",contexts:["selection"],type:"separator"},hs="quick-link-",ms=hs.length,fs=e=>`quick-link-${e.name}`;(0,fe.Z)(is,(()=>{!async function(){await n().contextMenus.removeAll();const{contextMenus:e,quickLinks:t}=await n().storage.local.get(is),s=t.filter((e=>e.menu));e.length&&e.forEach((e=>{n().contextMenus.create(us[e])})),e.length&&s.length&&n().contextMenus.create(ps),s.forEach((e=>{n().contextMenus.create({id:fs(e),contexts:["selection"],title:e.name})}))}()})),n().contextMenus.onClicked.addListener((async(e,t)=>{switch(e.menuItemId){case"translate":const s=e.selectionText,a=e.pageUrl||"";s&&(a.startsWith("chrome")&&!dt(a)||a.startsWith("about")||!Oe&&a.startsWith("https://chrome.google.com")?st(s):at(s,null==t?void 0:t.id));break;case"open-pdf-in-viewer":const o=Ee?e.srcUrl:e.pageUrl;!o||o.startsWith("about:")||o.startsWith("chrome-extension:")||Oe&&o.startsWith("file://")?pt({blocked:!0}):pt(o);break;case"open-link-in-viewer":e.linkUrl&&pt(e.linkUrl);break;case"screen-translate":if(null==t?void 0:t.id)try{await n().tabs.sendMessage(t.id,"screenshot translate")}catch(e){}break;case"page-translate":if(null==t?void 0:t.id)try{await n().tabs.sendMessage(t.id,"page translate")}catch(e){}break;case"video-translate":if(null==t?void 0:t.id)try{await n().tabs.sendMessage(t.id,"video translate")}catch(e){}break;default:if("string"==typeof e.menuItemId&&e.menuItemId.startsWith(hs)){const t=e.menuItemId.slice(ms),s=(await n().storage.local.get(rs)).quickLinks.find((e=>e.name===t));s&&n().tabs.create({url:s.link.replace("%s",encodeURIComponent(e.selectionText||""))})}}}));const gs=(0,me.Z)(pe,["domainBlackList"]);n().commands.onCommand.addListener((async e=>{var t,s,a,o,r;let i;switch(e){case"panel":st();break;case"translate":at("",void 0,!1);break;case"translateWithPopup":if(i=null===(t=await Ge())||void 0===t?void 0:t.id,i)try{st(await n().tabs.sendMessage(i,"getSelectionText"))}catch(e){}break;case"screenshot":if(i=null===(s=await Ge())||void 0===s?void 0:s.id,i)try{await n().tabs.sendMessage(i,"screenshot translate")}catch(e){}break;case"page":if(i=null===(a=await Ge())||void 0===a?void 0:a.id,i)try{await n().tabs.sendMessage(i,"page translate")}catch(e){}break;case"pageSwitchMode":if(i=null===(o=await Ge())||void 0===o?void 0:o.id,i)try{await n().tabs.sendMessage(i,"page translate switch mode")}catch(e){}break;case"hoverTranslate":if(i=null===(r=await Ge())||void 0===r?void 0:r.id,i)try{await n().tabs.sendMessage(i,"hover translate")}catch(e){}break;case"switchWeb":const{domainBlackList:e}=await n().storage.local.get(gs),c=e.findIndex((e=>"*"===e.host&&"/*"===e.path));c>=0?e.splice(c,1):e.unshift({host:"*",path:"/*"}),await n().storage.local.set({domainBlackList:e})}}));var ys=s(9111),ws=s(4063),vs=s.n(ws);async function bs(){const e=await n().storage.local.get(pe),t=await Pt.L.put("/options",{options:JSON.stringify(e)});await n().storage.local.set({optionsSyncAt:t.data})}async function As(){const e=await async function(e){let t;e||(t=(await n().storage.local.get("optionsSyncAt")).optionsSyncAt);const s=await Pt.L.get("/options",{params:{ifModifiedSince:t}});if(204===s.status)return"no-data";if(304===s.status)return"not-modified";const a=s.data;if(!a)return"server-data-error";let o;try{o=JSON.parse(a.optionsString)}catch(e){return"server-data-error"}return vs()(await n().storage.local.get(pe),o)?(await n().storage.local.set({optionsSyncAt:a.updatedAt}),"not-modified"):e||t?(o.optionsSyncAt=a.updatedAt,await n().storage.local.set(o),"covered"):{status:"need-confirm",date:a.updatedAt}}();return"no-data"===e?(await bs(),"uploaded"):e}const Rs=(0,me.Z)(he,"user"),xs={...pe,...(0,me.Z)(he,["optionsSyncAt"])},Ss=(0,ys.Z)(bs,5e3);let Ps;const Cs="sync alarm",Ts=(0,me.Z)(pe,["notifySyncOptions"]);async function ks(){let e;try{e=await As()}catch(e){return}if("covered"===e&&await n().permissions.contains({permissions:["notifications"]})){const{notifySyncOptions:e}=await n().storage.local.get(Ts);if(e)try{await n().notifications.create("notify for options sync",{type:"basic",iconUrl:"logo.png",title:"划词翻译设置已更新",message:"已将划词翻译设置更新至最新版本。"})}catch(e){n().storage.local.set({disabledNofiByBrowserUI:!0})}}}function Ls(e){e.name===Cs&&ks()}function Ds(e){return`https://translate.google.com/translate?sl=auto&tl=zh-CN&u=${e}`}function Es(e){return`https://translate.sogoucdn.com/pcvtsnapshot?from=auto&to=zh-CHS&tfr=translatepc&url=${encodeURIComponent(e)}&domainType=sogou`}function Is(e){return`http://webtrans.yodao.com/webTransPc/index.html#/?url=${encodeURIComponent(e)}&from=auto&to=auto&type=1`}(0,fe.Z)(Rs,((e,t)=>{var s;(null===(s=e.user)||void 0===s?void 0:s.vipActivated)?(Ps=(0,fe.Z)(xs,(e=>{Object.prototype.hasOwnProperty.call(e,"optionsSyncAt")||Ss()}),bt.Z),n().alarms.create(Cs,{periodInMinutes:60}),n().alarms.onAlarm.addListener(Ls),t&&ks()):(Ps&&Ps(),n().alarms.clear(Cs),n().alarms.onAlarm.removeListener(Ls))}));var Ks=s(3202);const Os=s.n(Ks)()({exact:!0,strict:!1});function _s(e){return Os.test(e)}const Bs=Ee?e=>`<match>${e.k}</match>  <dim>${e.v}</dim>`:e=>`${e.k} ${e.v}`,Us=e=>e?"翻译这段文本":"请输入想要翻译的文本或网址。",Zs=["谷歌翻译","搜狗翻译","有道翻译"];let qs;n().omnibox.onInputStarted.addListener((()=>{n().omnibox.setDefaultSuggestion({description:Us("")})})),n().omnibox.onInputChanged.addListener(((e,t)=>{const s=(0,vt.Z)();qs=s,e?_s(e)?(n().omnibox.setDefaultSuggestion({description:"使用百度翻译此网址"}),t(Zs.map((t=>({content:t+" "+e,description:`使用${t}此网址`}))))):async function(e){return(await ye().post("https://fanyi.baidu.com/sug",{kw:e})).data.data||[]}(e).then((a=>{if(qs===s){if(!a.length)return n().omnibox.setDefaultSuggestion({description:Us(e)}),void t([]);n().omnibox.setDefaultSuggestion({description:Bs(a[0])}),t(a.slice(1).map((e=>({content:e.k,description:Bs(e)}))))}})):n().omnibox.setDefaultSuggestion({description:Us("")})})),n().omnibox.onInputEntered.addListener((e=>{if(_s(e))return void n().tabs.create({url:(t=e,`https://fanyi.baidu.com/transpage?query=${encodeURIComponent(t)}&from=auto&to=zh&source=url&render=1`)});var t;const s=e.split(" ");if(2===s.length&&Zs.includes(s[0])){const e=s[1];switch(s[0]){case"谷歌翻译":n().tabs.create({url:Ds(e)});break;case"搜狗翻译":n().tabs.create({url:Es(e)});break;case"有道翻译":n().tabs.create({url:Is(e)})}}else st(e)}));const Fs=(0,me.Z)(pe,["popupAction"]);(0,fe.Z)(Fs,(e=>{e.popupAction&&n().browserAction.setPopup({popup:"show-popup"===e.popupAction?"popup.html":""})})),n().browserAction.onClicked.addListener((e=>{e.id&&n().tabs.sendMessage(e.id,"page translate").catch(bt.Z)}))},5127:(e,t,s)=>{"use strict";s.d(t,{m:()=>n});var a=s(3364);class n extends Error{constructor(e,t){super(e),null!==(null==t?void 0:t.type)&&(this.type=(null==t?void 0:t.type)||"OTHER"),this.link=null==t?void 0:t.link,this.context=null==t?void 0:t.context,this.errors=null==t?void 0:t.errors,this.noRetry=null==t?void 0:t.noRetry}toJSON(){var e;return{type:this.type,message:this.message,link:this.link,errors:null===(e=this.errors)||void 0===e?void 0:e.map((e=>(0,a.R)(e).toJSON()))}}clone(){return new n(this.message,{context:this.context,type:this.type,link:this.link,errors:this.errors,noRetry:this.noRetry})}}},4194:(e,t,s)=>{"use strict";s.d(t,{mD:()=>a.m,RE:()=>n.R});var a=s(5127),n=(s(9989),s(3364))},9989:(e,t,s)=>{"use strict";s.d(t,{D:()=>n});var a=s(5127);function n(e){return e instanceof a.m?e:e instanceof Error?new a.m(e.message,{type:null}):new a.m("划词翻译内部出现了一个预期之外的错误，如果你看到了这条消息，请反馈给我。",{type:null})}},3364:(e,t,s)=>{"use strict";s.d(t,{R:()=>c});var a=s(9669),n=s.n(a),o=s(5127),r=s(9989);const i={401:"登录状态已失效，请重新登录。"};function c(e){if(n().isAxiosError(e)){const t=function(e){var t;const{url:s,baseURL:a}=e;let n;try{n=new URL(s||"",a)}catch(e){return"远程服务器"}const{host:o}=n;return(null===(t="https://hs-api.limingkai.cn/")?void 0:t.includes(o))?"划词翻译服务器":"远程服务器"}(e.config),s="划词翻译服务器"===t;if(e.response){const a=e.response.status;return new o.m(s?i[a]||`划词翻译服务器内部产生了一个错误，请稍后重试。HTTP 响应码：${a}。`:`${t}返回了错误的 HTTP 响应码：${a}。`,{type:"API_SERVER_ERROR"})}return e.request?new o.m(`${t}没有响应。`,{type:"NETWORK_ERROR",link:{name:"查看解决方案",url:"划词翻译服务器"===t?"https://hcfy.app/docs/faq/#server-no-response":"https://hcfy.app/docs/faq/#why-services-always-loading"}}):new o.m(`向${t}发起请求时发生了一个错误：“${e.message}”`,{type:null})}return(0,r.D)(e)}},8325:(e,t,s)=>{"use strict";s.d(t,{X:()=>n});const a={delay:0,count:2,beforeRetry:()=>!1};function n(e,t){const s=t?Object.assign({},a,t):a;if(s.count<=0)return e();let n=0;const o=()=>e().catch((e=>n<s.count&&(n+=1,!s.beforeRetry(e))?new Promise(((e,t)=>{setTimeout((()=>{o().then(e,t)}),s.delay)})):Promise.reject(e)));return o()}},607:()=>{chrome.webRequest.onBeforeSendHeaders.addListener((function(e){var t=e.requestHeaders;return t.some((function(e){if("hcfy-Date"===e.name)return e.name="Date",!0})),{requestHeaders:t}}),{urls:["https://mt.cn-hangzhou.aliyuncs.com/api/translate/web/general","https://mt.cn-hangzhou.aliyuncs.com/api/translate/web/ecommerce"],types:["xmlhttprequest"]},["blocking","requestHeaders"])},8031:()=>{var e=["blocking","responseHeaders"],t=/Chrome\/(\d+)/.exec(navigator.userAgent);(t&&Number(t[1]))>71&&e.push("extraHeaders"),chrome.webRequest.onHeadersReceived.addListener((function(e){var t=e.responseHeaders,s=t.findIndex((e=>"content-security-policy"===e.name.toLowerCase()));return-1!==s&&t.splice(s,1),{responseHeaders:t}}),{urls:["https://www.deepl.com/translator"],types:["sub_frame"]},e)},7370:()=>{var e=["blocking","responseHeaders"],t=["blocking","requestHeaders"],s=/Chrome\/(\d+)/.exec(navigator.userAgent);(s&&Number(s[1]))>71&&(e.push("extraHeaders"),t.push("extraHeaders")),chrome.webRequest.onHeadersReceived.addListener((function(e){var t=e.responseHeaders,s=t.findIndex((e=>"cross-origin-resource-policy"===e.name.toLowerCase()));return-1!==s&&t.splice(s,1),{responseHeaders:t}}),{urls:["https://translate.googleapis.com/translate_tts?*"]},e),chrome.webRequest.onHeadersReceived.addListener((function(e){var t=e.responseHeaders,s=t.findIndex((e=>"x-frame-options"===e.name.toLowerCase()));return-1!==s&&t.splice(s,1),{responseHeaders:t}}),{urls:["https://translate.google.com/*","https://translate.google.cn/*"],types:["sub_frame"]},e),chrome.webRequest.onBeforeSendHeaders.addListener((function(e){var t=e.requestHeaders;if(!t.some((e=>"referer"===e.name.toLowerCase()))){var s=e.url.startsWith("https://translate.google.cn/")?"https://translate.google.cn":"https://translate.google.com",a=t.find((e=>"origin"===e.name.toLowerCase()));return a?a.value=s:t.push({name:"Origin",value:s}),t.push({name:"Referer",value:s+"/"}),{responseHeaders:t}}}),{urls:["https://translate.google.cn/_/TranslateWebserverUi/data/batchexecute?*","https://translate.google.com/_/TranslateWebserverUi/data/batchexecute?*"]},t)}},s={};function a(e){var n=s[e];if(void 0!==n)return n.exports;var o=s[e]={exports:{}};return t[e].call(o.exports,o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,s,n,o)=>{if(!s){var r=1/0;for(d=0;d<e.length;d++){for(var[s,n,o]=e[d],i=!0,c=0;c<s.length;c++)(!1&o||r>=o)&&Object.keys(a.O).every((e=>a.O[e](s[c])))?s.splice(c--,1):(i=!1,o<r&&(r=o));if(i){e.splice(d--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,n,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={128:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var n,o,[r,i,c]=s,l=0;if(r.some((t=>0!==e[t]))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(c)var d=c(a)}for(t&&t(s);l<r.length;l++)o=r[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},s=self.webpackChunk=self.webpackChunk||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=a.O(void 0,[473,150,611,967,222,697],(()=>a(9048)));n=a.O(n)})();